#!/usr/bin/env bash # Run all training steps in sequence via runctl on AWS set -euo pipefail SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)" PROJECT_ROOT="$(cd "$SCRIPT_DIR/../.." && pwd)" OUTPUT_VERSION="${OUTPUT_VERSION:-v2024-W01}" echo "==========================================" echo "Running All Training Steps" echo "==========================================" echo "Output version: $OUTPUT_VERSION" echo "" # Step 1: Fine-tune instruction embeddings echo "Step 1: Fine-tuning instruction embeddings..." export OUTPUT_VERSION="$OUTPUT_VERSION" bash "$SCRIPT_DIR/train_instruction_finetune_runctl.sh" echo "" # Step 2: Train co-occurrence with graph echo "Step 2: Training co-occurrence embeddings with graph..." bash "$SCRIPT_DIR/train_with_graph_runctl.sh" echo "" # Step 3: Train full hybrid (including GNN) echo "Step 3: Training full hybrid system (co-occurrence + GNN)..." SKIP_GNN=false bash "$SCRIPT_DIR/train_hybrid_full_runctl.sh" echo "" echo " All training jobs submitted!" echo "Monitor with: ../runctl/target/release/runctl aws monitor"