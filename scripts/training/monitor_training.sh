#!/bin/bash # Monitor EC2 training progress INSTANCE_ID="i-06f00be37d6a482ff" OUTPUT_NAME="magic_128d_test_pecanpy.wv" echo "==========================================" echo "EC2 Training Monitor" echo "==========================================" echo "" # Instance status echo " Instance Status:" aws ec2 describe-instances --instance-ids $INSTANCE_ID \ --query 'Reservations[0].Instances[0].{ID:InstanceId,Type:InstanceType,State:State.Name,Spot:SpotInstanceRequestId}' \ --output table echo "" echo "ðŸ“¡ SSM Agent Status:" aws ssm describe-instance-information \ --filters "Key=InstanceIds,Values=$INSTANCE_ID" \ --query 'InstanceInformationList[0].{PingStatus:PingStatus,LastPing:LastPingDateTime}' \ --output table 2>/dev/null || echo " SSM agent not ready yet" echo "" echo "ðŸ”§ Recent SSM Commands:" aws ssm list-commands --instance-id $INSTANCE_ID --max-items 3 \ --query 'Commands[*].{ID:CommandId,Status:Status,Time:RequestedDateTime}' \ --output table 2>/dev/null || echo " No commands found" echo "" echo "ðŸ“¦ S3 Output Check:" aws s3 ls s3://games-collections/embeddings/$OUTPUT_NAME 2>&1 | head -1 || echo " Not uploaded yet" echo "" echo "=========================================="set -euo pipefail
