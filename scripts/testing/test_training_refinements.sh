#!/bin/bash # Test training refinements and measure improvements # Compares baseline vs refined parameters set -euo pipefail SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)" PROJECT_ROOT="$(cd "$SCRIPT_DIR/../.." && pwd)" cd "$PROJECT_ROOT" echo "======================================================================" echo "TESTING TRAINING REFINEMENTS" echo "======================================================================" echo "" OUTPUT_DIR="${OUTPUT_DIR:-data/test_training}" QUICK="${QUICK:-false}" # Create output directory mkdir -p "$OUTPUT_DIR" # Run test script if [[ "$QUICK" == "true" ]]; then echo "Running quick test (minimal data)..." uv run python src/ml/scripts/test_training_refinements.py \ --output-dir "$OUTPUT_DIR" \ --quick else echo "Running full test..." if [[ -f "data/processed/pairs_large.csv" ]]; then echo "Using pairs_large.csv for testing..." uv run python src/ml/scripts/test_training_refinements.py \ --pairs data/processed/pairs_large.csv \ --output-dir "$OUTPUT_DIR" else echo "Creating minimal test data..." uv run python src/ml/scripts/test_training_refinements.py \ --output-dir "$OUTPUT_DIR" fi fi echo "" echo " Testing complete!" echo " Results: $OUTPUT_DIR/test_results.json" echo " Models: $OUTPUT_DIR/*.wv"
